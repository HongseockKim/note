const arr = [1, 2, 3, 4, 5, 6];
  const users = [
      { id: 1, name: 'ê¹€ì² ìˆ˜', age: 30, active: true },
      { id: 2, name: 'ì´ì˜í¬', age: 25, active: false },
      { id: 3, name: 'ë°•ë¯¼ìˆ˜', age: 30, active: true }
  ];

  // ğŸ” ê²€ìƒ‰/ì°¾ê¸°
  _.find(users, { age: 30 });                    // ì²« ë²ˆì§¸ 30ì‚´ ì°¾ê¸°
  _.findLast(users, { active: true });           // ë§ˆì§€ë§‰ active ì°¾ê¸°
  _.findIndex(users, { name: 'ì´ì˜í¬' });         // ì¸ë±ìŠ¤ ì°¾ê¸°
  _.findLastIndex(users, { active: true });      // ë§ˆì§€ë§‰ ì¸ë±ìŠ¤
  _.indexOf(arr, 3);                             // 3ì˜ ì¸ë±ìŠ¤
  _.lastIndexOf([1,2,3,2,1], 2);                // ë§ˆì§€ë§‰ 2ì˜ ì¸ë±ìŠ¤

  // âœ‚ï¸ ë¶„í• /ì¶”ì¶œ
  _.chunk([1,2,3,4,5], 2);                      // [[1,2], [3,4], [5]]
  _.drop(arr, 2);                                // [3,4,5,6] (ì• 2ê°œ ì œê±°)
  _.dropRight(arr, 2);                           // [1,2,3,4] (ë’¤ 2ê°œ ì œê±°)
  _.take(arr, 3);                                // [1,2,3] (ì• 3ê°œ)
  _.takeRight(arr, 3);                           // [4,5,6] (ë’¤ 3ê°œ)
  _.slice(arr, 1, 4);                            // [2,3,4]
  _.initial(arr);                                // [1,2,3,4,5] (ë§ˆì§€ë§‰ ì œì™¸)
  _.tail(arr);                                   // [2,3,4,5,6] (ì²«ë²ˆì§¸ ì œì™¸)

  // ğŸ”€ ë°°ì—´ ì¡°ì‘
  _.compact([0, 1, false, 2, '', 3]);           // [1,2,3] (falsy ì œê±°)
  _.concat(arr, 7, [8,9]);                      // [1,2,3,4,5,6,7,8,9]
  _.difference([1,2,3], [2,3,4]);               // [1] (ì°¨ì§‘í•©)
  _.intersection([1,2,3], [2,3,4]);             // [2,3] (êµì§‘í•©)
  _.union([1,2], [2,3], [3,4]);                 // [1,2,3,4] (í•©ì§‘í•©)
  _.uniq([1,2,2,3,3,3]);                        // [1,2,3] (ì¤‘ë³µ ì œê±°)
  _.uniqBy(users, 'age');                       // age ê¸°ì¤€ ì¤‘ë³µ ì œê±°
  _.pull([1,2,3,4], 2, 3);                      // [1,4] (ì›ë³¸ ìˆ˜ì •)
  _.pullAll([1,2,3,4], [2,3]);                  // [1,4] (ì›ë³¸ ìˆ˜ì •)
  _.remove(arr, n => n % 2 === 0);              // ì§ìˆ˜ ì œê±° (ì›ë³¸ ìˆ˜ì •)

  // ğŸ”„ ë³€í™˜
  _.flatten([1, [2, 3, [4]]]);                  // [1,2,3,[4]] (1ë‹¨ê³„ í‰íƒ„í™”)
  _.flattenDeep([1, [2, [3, [4]]]]);           // [1,2,3,4] (ì™„ì „ í‰íƒ„í™”)
  _.flattenDepth([1, [2, [3, [4]]]], 2);       // 2ë‹¨ê³„ê¹Œì§€ í‰íƒ„í™”
  _.fromPairs([['a', 1], ['b', 2]]);           // {a: 1, b: 2}
  _.toPairs({a: 1, b: 2});                     // [['a', 1], ['b', 2]]
  _.zip(['a','b'], [1,2], [true,false]);       // [['a',1,true], ['b',2,false]]
  _.unzip([['a',1], ['b',2]]);                 // [['a','b'], [1,2]]
  _.reverse([1,2,3]);                          // [3,2,1] (ì›ë³¸ ìˆ˜ì • ì•ˆí•¨)

  // ğŸ“Š ì •ë ¬
  _.sortBy(users, 'age');                       // ageë¡œ ì •ë ¬
  _.orderBy(users, ['age', 'name'], ['asc', 'desc']); // ë‹¤ì¤‘ ì •ë ¬

  2ï¸âƒ£ ì»¬ë ‰ì…˜(Collection) ë©”ì„œë“œ

  // ğŸ”„ ë°˜ë³µ/ë³€í™˜
  _.forEach(users, (user, index) => {
      console.log(user.name);
  });
  _.forEachRight(users, user => {}); // ì—­ìˆœ ë°˜ë³µ

  _.map(users, 'name');                         // ['ê¹€ì² ìˆ˜', 'ì´ì˜í¬', 'ë°•ë¯¼ìˆ˜']
  _.map(users, user => user.age * 2);           // ë‚˜ì´ * 2

  // ğŸ” í•„í„°ë§
  _.filter(users, { active: true });            // activeê°€ trueì¸ ê²ƒë§Œ
  _.filter(users, user => user.age > 25);       // 25ì‚´ ì´ˆê³¼
  _.reject(users, { active: false });           // activeê°€ falseê°€ ì•„ë‹Œ ê²ƒ
  _.partition(users, { active: true });         // [active true ë°°ì—´, false ë°°ì—´]

  // ğŸ“Š ê·¸ë£¹í•‘/ì§‘ê³„
  _.groupBy(users, 'age');                      // ageë³„ ê·¸ë£¹
  _.countBy(users, 'active');                   // {true: 2, false: 1}
  _.keyBy(users, 'id');                         // idë¥¼ keyë¡œ í•˜ëŠ” ê°ì²´

  // ğŸ”¢ ì§‘ê³„ í•¨ìˆ˜
  _.reduce(arr, (sum, n) => sum + n, 0);        // í•©ê³„
  _.reduceRight(arr, (sum, n) => sum + n);      // ì—­ìˆœ reduce
  _.size(users);                                 // í¬ê¸°
  _.sample(arr);                                 // ëœë¤ 1ê°œ
  _.sampleSize(arr, 3);                          // ëœë¤ 3ê°œ
  _.shuffle(arr);                                // ì„ê¸°

  // âœ… ì¡°ê±´ ì²´í¬
  _.every(users, { active: true });             // ëª¨ë‘ activeì¸ì§€
  _.some(users, { active: true });              // í•˜ë‚˜ë¼ë„ activeì¸ì§€
  _.includes(arr, 3);                           // 3 í¬í•¨ ì—¬ë¶€

  3ï¸âƒ£ ê°ì²´(Object) ë©”ì„œë“œ

  const obj = { a: 1, b: 2, c: 3 };
  const nested = { a: { b: { c: 3 } } };

  // ğŸ”‘ í‚¤/ê°’ ì‘ì—…
  _.keys(obj);                                  // ['a', 'b', 'c']
  _.values(obj);                                // [1, 2, 3]
  _.entries(obj);                               // [['a',1], ['b',2], ['c',3]]
  _.pick(obj, ['a', 'c']);                     // {a: 1, c: 3}
  _.omit(obj, ['b']);                          // {a: 1, c: 3}
  _.pickBy(obj, val => val > 1);               // {b: 2, c: 3}
  _.omitBy(obj, val => val > 1);               // {a: 1}

  // ğŸ”„ ë³€í™˜
  _.invert(obj);                                // {1: 'a', 2: 'b', 3: 'c'}
  _.mapKeys(obj, (val, key) => key + '_new');  // í‚¤ ë³€í™˜
  _.mapValues(obj, val => val * 2);            // ê°’ ë³€í™˜
  _.transform(obj, (result, val, key) => {     // ì»¤ìŠ¤í…€ ë³€í™˜
      result[key] = val * 2;
  }, {});

  // ğŸ”— ë³‘í•©/ë³µì‚¬
  _.assign({}, obj, { d: 4 });                  // ì–•ì€ ë³µì‚¬
  _.merge({}, nested, { a: { b: { d: 4 }}});   // ê¹Šì€ ë³‘í•©
  _.defaults(obj, { d: 4 });                   // ê¸°ë³¸ê°’ ì„¤ì •
  _.clone(obj);                                 // ì–•ì€ ë³µì‚¬
  _.cloneDeep(nested);                         // ê¹Šì€ ë³µì‚¬

  // ğŸ“ ê²½ë¡œ ì ‘ê·¼
  _.get(nested, 'a.b.c');                      // 3
  _.get(nested, 'a.b.d', 'default');           // 'default' (ì—†ìœ¼ë©´)
  _.set(nested, 'a.b.d', 4);                   // ê²½ë¡œì— ê°’ ì„¤ì •
  _.has(nested, 'a.b.c');                      // true
  _.unset(nested, 'a.b.c');                    // ê²½ë¡œ ì‚­ì œ

  4ï¸âƒ£ í•¨ìˆ˜(Function) ë©”ì„œë“œ

  // â±ï¸ ì‹¤í–‰ ì œì–´
  const debounced = _.debounce(() => {
      console.log('ë””ë°”ìš´ìŠ¤!');
  }, 300);                                      // 300ms í›„ ì‹¤í–‰

  const throttled = _.throttle(() => {
      console.log('ì“°ë¡œí‹€!');
  }, 1000);                                     // 1ì´ˆì— ìµœëŒ€ 1ë²ˆ

  const onceFn = _.once(() => {
      console.log('í•œë²ˆë§Œ!');
  });                                           // í•œ ë²ˆë§Œ ì‹¤í–‰

  _.delay(() => console.log('ì§€ì—°'), 1000);    // 1ì´ˆ í›„ ì‹¤í–‰
  _.defer(() => console.log('ë‹¤ìŒ í‹±'));       // ë‹¤ìŒ í‹±ì— ì‹¤í–‰

  // ğŸ”§ í•¨ìˆ˜ ì¡°ì‘
  _.curry(fn);                                  // ì»¤ë§
  _.partial(fn, arg1, _, arg3);                // ë¶€ë¶„ ì ìš©
  _.bind(fn, thisArg);                         // this ë°”ì¸ë”©
  _.memoize(expensiveFn);                      // ë©”ëª¨ì´ì œì´ì…˜

  5ï¸âƒ£ ë¬¸ìì—´(String) ë©”ì„œë“œ

  const str = '  Hello World  ';

  _.camelCase('hello-world');                  // 'helloWorld'
  _.capitalize('hello');                       // 'Hello'
  _.kebabCase('helloWorld');                   // 'hello-world'
  _.snakeCase('helloWorld');                   // 'hello_world'
  _.upperCase('hello');                        // 'HELLO'
  _.lowerCase('HELLO');                        // 'hello'
  _.upperFirst('hello');                       // 'Hello'
  _.lowerFirst('Hello');                       // 'hello'

  _.startsWith('hello', 'he');                 // true
  _.endsWith('hello', 'lo');                   // true
  _.repeat('*', 3);                           // '***'
  _.pad('hi', 6);                             // '  hi  '
  _.padStart('hi', 6, '0');                   // '0000hi'
  _.padEnd('hi', 6, '!');                     // 'hi!!!!'
  _.trim(str);                                 // 'Hello World'
  _.trimStart(str);                           // 'Hello World  '
  _.trimEnd(str);                             // '  Hello World'
  _.truncate('hello world', { length: 5 });   // 'he...'
  _.escape('<div>');                          // '&lt;div&gt;'
  _.unescape('&lt;div&gt;');                  // '<div>'

  6ï¸âƒ£ ìˆ˜í•™(Math) ë©”ì„œë“œ

  _.add(6, 4);                                 // 10
  _.subtract(6, 4);                           // 2
  _.multiply(6, 4);                           // 24
  _.divide(6, 4);                             // 1.5
  _.sum([1, 2, 3]);                           // 6
  _.sumBy(users, 'age');                      // age í•©ê³„
  _.mean([1, 2, 3, 4]);                       // 2.5
  _.meanBy(users, 'age');                     // age í‰ê· 
  _.max([1, 2, 3]);                           // 3
  _.maxBy(users, 'age');                      // ê°€ì¥ ë‚˜ì´ ë§ì€ user
  _.min([1, 2, 3]);                           // 1
  _.minBy(users, 'age');                      // ê°€ì¥ ë‚˜ì´ ì ì€ user
  _.round(4.006, 2);                          // 4.01
  _.floor(4.9);                               // 4
  _.ceil(4.1);                                // 5

  7ï¸âƒ£ ìœ í‹¸ë¦¬í‹°(Utility) ë©”ì„œë“œ

  // íƒ€ì… ì²´í¬
  _.isArray([]);                              // true
  _.isObject({});                             // true
  _.isString('');                             // true
  _.isNumber(1);                              // true
  _.isBoolean(true);                          // true
  _.isFunction(() => {});                     // true
  _.isNull(null);                             // true
  _.isUndefined(undefined);                   // true
  _.isNil(null);                              // true (null or undefined)
  _.isEmpty([]);                              // true
  _.isEqual(obj1, obj2);                      // ê¹Šì€ ë¹„êµ

  // íƒ€ì… ë³€í™˜
  _.toArray('abc');                           // ['a', 'b', 'c']
  _.toNumber('3.2');                          // 3.2
  _.toString(123);                            // '123'
  _.toInteger(3.2);                           // 3
  _.toPlainObject(obj);                       // ì¼ë°˜ ê°ì²´ë¡œ

  8ï¸âƒ£ ì²´ì´ë‹(Chaining)

  // ì²´ì¸ ë°©ì‹ìœ¼ë¡œ ì—¬ëŸ¬ ì‘ì—… ì—°ê²°
  const result = _.chain(users)
      .filter({ active: true })               // activeë§Œ
      .map('age')                             // age ì¶”ì¶œ
      .sum()                                  // í•©ê³„
      .value();                               // ê²°ê³¼ ë°˜í™˜

  // ë³µì¡í•œ ì˜ˆì œ
  const processed = _.chain(data)
      .filter(item => item.value > 0)
      .groupBy('category')
      .mapValues(group => ({
          count: group.length,
          total: _.sumBy(group, 'value'),
          average: _.meanBy(group, 'value')
      }))
      .pickBy(stats => stats.count > 5)
      .orderBy(['total'], ['desc'])
      .value();

  9ï¸âƒ£ ì‹¤ì „ í™œìš© ì˜ˆì‹œ

  // AG Grid ë°ì´í„° ê°€ê³µ
  const gridData = _.chain(rawData)
      .filter(item => item.status === 'active')
      .map((item, index) => ({
          ...item,
          id: index + 1,
          displayName: _.startCase(item.name),
          formattedDate: moment(item.date).format('YYYY-MM-DD')
      }))
      .orderBy(['priority', 'date'], ['desc', 'asc'])
      .value();

  // ì¤‘ë³µ ì œê±° + ì •ë ¬
  const uniqueSorted = _.chain(data)
      .uniqBy('id')
      .sortBy('name')
      .value();

  // ê·¸ë£¹ë³„ í†µê³„
  const statistics = _.chain(sales)
      .groupBy('region')
      .mapValues(regionSales => ({
          region: regionSales[0].region,
          totalSales: _.sumBy(regionSales, 'amount'),
          avgSales: _.meanBy(regionSales, 'amount'),
          maxSale: _.maxBy(regionSales, 'amount'),
          count: regionSales.length
      }))
      .values()
      .orderBy('totalSales', 'desc')
      .value();
